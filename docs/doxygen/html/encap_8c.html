<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP32-P4 EtherNet/IP Device: components/opener/src/enet_encap/encap.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESP32-P4 EtherNet/IP Device<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">EtherNet/IP adapter with IMU sensors and I/O expansion</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('encap_8c.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">encap.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;<a class="el" href="encap_8h_source.html">encap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="opener__api_8h_source.html">opener_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="opener__user__conf_8h_source.html">opener_user_conf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cpf_8h_source.html">cpf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="endianconv_8h_source.html">endianconv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cipcommon_8h_source.html">cipcommon.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cipmessagerouter_8h_source.html">cipmessagerouter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cipconnectionmanager_8h_source.html">cipconnectionmanager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cipidentity_8h_source.html">cipidentity.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ciptcpipinterface_8h_source.html">ciptcpipinterface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="generic__networkhandler_8h_source.html">generic_networkhandler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trace_8h_source.html">trace.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="socket__timer_8h_source.html">socket_timer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="opener__error_8h_source.html">opener_error.h</a>&quot;</code><br />
</div>
<p><a href="encap_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:DelayedEncapsulationMessage" id="r_DelayedEncapsulationMessage"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDelayedEncapsulationMessage.html">DelayedEncapsulationMessage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delayed Encapsulation Message structure.  <a href="structDelayedEncapsulationMessage.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aba848fec29c4e01df56756077e6a777b" id="r_aba848fec29c4e01df56756077e6a777b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba848fec29c4e01df56756077e6a777b">ENCAP_NUMBER_OF_SUPPORTED_DELAYED_ENCAP_MESSAGES</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:aba848fec29c4e01df56756077e6a777b"><td class="mdescLeft">&#160;</td><td class="mdescRight">According to EIP spec at least 2 delayed message requests should be supported.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-enum-members" class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aa68bfc8983f200bfbae62a07dd04ebf0" id="r_aa68bfc8983f200bfbae62a07dd04ebf0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa68bfc8983f200bfbae62a07dd04ebf0">SessionStatus</a> { <a class="el" href="#aa68bfc8983f200bfbae62a07dd04ebf0ab5eca12b03104fe48d3170f7c9f5f8cc">kSessionStatusInvalid</a> = -1
, <a class="el" href="#aa68bfc8983f200bfbae62a07dd04ebf0a20e998dae8e4ce10a835850f87a01afa">kSessionStatusValid</a> = 0
 }</td></tr>
<tr class="memitem:a95edc0c537bea99e39a8592b3fd4f977" id="r_a95edc0c537bea99e39a8592b3fd4f977"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95edc0c537bea99e39a8592b3fd4f977">EncapsulationCommand</a> { <br />
&#160;&#160;<a class="el" href="#a95edc0c537bea99e39a8592b3fd4f977a69d0f5b4b9d69853e76005e3f9f01890">kEncapsulationCommandNoOperation</a> = 0x0000
, <a class="el" href="#a95edc0c537bea99e39a8592b3fd4f977aab5bfc872dca566c6c50354abb876774">kEncapsulationCommandListServices</a> = 0x0004
, <a class="el" href="#a95edc0c537bea99e39a8592b3fd4f977ab2f781d132ba002b7c5283c2723538c6">kEncapsulationCommandListIdentity</a> = 0x0063
, <a class="el" href="#a95edc0c537bea99e39a8592b3fd4f977a34eb564156c11cb7c833de8d2ad48d30">kEncapsulationCommandListInterfaces</a> = 0x0064
, <br />
&#160;&#160;<a class="el" href="#a95edc0c537bea99e39a8592b3fd4f977a856da1c94e075535aa674c467410d8b4">kEncapsulationCommandRegisterSession</a> = 0x0065
, <a class="el" href="#a95edc0c537bea99e39a8592b3fd4f977a56ea9cffabb76e5565419eb22f6f8eee">kEncapsulationCommandUnregisterSession</a> = 0x0066
, <a class="el" href="#a95edc0c537bea99e39a8592b3fd4f977affa56cf9675783b75d7747627ac45f08">kEncapsulationCommandSendRequestReplyData</a> = 0x006F
, <a class="el" href="#a95edc0c537bea99e39a8592b3fd4f977a8b3659e119290957cb24f94cf3dbde09">kEncapsulationCommandSendUnitData</a> = 0x0070
<br />
 }</td></tr>
<tr class="memdesc:a95edc0c537bea99e39a8592b3fd4f977"><td class="mdescLeft">&#160;</td><td class="mdescRight">definition of known encapsulation commands  <a href="#a95edc0c537bea99e39a8592b3fd4f977">More...</a><br /></td></tr>
<tr class="memitem:aa2df52999b993c2eb27861896c799903" id="r_aa2df52999b993c2eb27861896c799903"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa2df52999b993c2eb27861896c799903">CapabilityFlags</a> { <a class="el" href="#aa2df52999b993c2eb27861896c799903a53cfd1843c4cf433834aa2c91179bba9">kCapabilityFlagsCipTcp</a> = 0x0020
, <a class="el" href="#aa2df52999b993c2eb27861896c799903a43720dff6327ca8e9b80fb64e2f303b5">kCapabilityFlagsCipUdpClass0or1</a> = 0x0100
 }</td></tr>
<tr class="memdesc:aa2df52999b993c2eb27861896c799903"><td class="mdescLeft">&#160;</td><td class="mdescRight">definition of capability flags  <a href="#aa2df52999b993c2eb27861896c799903">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae4d21e6254396c9cb1b5716b054e57de" id="r_ae4d21e6254396c9cb1b5716b054e57de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae4d21e6254396c9cb1b5716b054e57de">HandleReceivedListIdentityCommandTcp</a> (const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const receive_data, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memitem:aa0d5bea99dea774897a8626bab414796" id="r_aa0d5bea99dea774897a8626bab414796"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa0d5bea99dea774897a8626bab414796">HandleReceivedListIdentityCommandUdp</a> (const int socket, const struct sockaddr_in *const from_address, const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const receive_data)</td></tr>
<tr class="memitem:a601cd19c88f03fd742f098a1bf5b9e85" id="r_a601cd19c88f03fd742f098a1bf5b9e85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a601cd19c88f03fd742f098a1bf5b9e85">HandleReceivedUnregisterSessionCommand</a> (const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const receive_data, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memdesc:a601cd19c88f03fd742f098a1bf5b9e85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister encapsulation session.  <br /></td></tr>
<tr class="memitem:a49dc585614f655a5b313150a01fd7221" id="r_a49dc585614f655a5b313150a01fd7221"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49dc585614f655a5b313150a01fd7221">HandleReceivedSendUnitDataCommand</a> (const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const receive_data, const struct sockaddr *const originator_address, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memdesc:a49dc585614f655a5b313150a01fd7221"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call Connection Manager.  <br /></td></tr>
<tr class="memitem:a7ad422d8ac1cc9507d6fd73837302c3a" id="r_a7ad422d8ac1cc9507d6fd73837302c3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ad422d8ac1cc9507d6fd73837302c3a">HandleReceivedInvalidCommand</a> (const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const receive_data, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memitem:ad674cdd0452f59d824a0bebbf678cb6d" id="r_ad674cdd0452f59d824a0bebbf678cb6d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad674cdd0452f59d824a0bebbf678cb6d">GetFreeSessionIndex</a> (void)</td></tr>
<tr class="memdesc:ad674cdd0452f59d824a0bebbf678cb6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">search for available sessions an return index.  <br /></td></tr>
<tr class="memitem:a4aebd689a5226c74a7b7a87bc7ef1d92" id="r_a4aebd689a5226c74a7b7a87bc7ef1d92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#aa68bfc8983f200bfbae62a07dd04ebf0">SessionStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4aebd689a5226c74a7b7a87bc7ef1d92">CheckRegisteredSessions</a> (const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const receive_data)</td></tr>
<tr class="memdesc:a4aebd689a5226c74a7b7a87bc7ef1d92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if received package belongs to registered session.  <br /></td></tr>
<tr class="memitem:a9b6e025b7991ad51d31e7a66e74e475f" id="r_a9b6e025b7991ad51d31e7a66e74e475f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b6e025b7991ad51d31e7a66e74e475f">DetermineDelayTime</a> (const <a class="el" href="typedefs_8h.html#a168bac8db7e7e6d944700e1ac4717ae3">EipByte</a> *buffer_start, <a class="el" href="structDelayedEncapsulationMessage.html">DelayedEncapsulationMessage</a> *const delayed_message_buffer)</td></tr>
<tr class="memitem:ga7a0dc2be6c485d9e6940d5b20a981022" id="r_ga7a0dc2be6c485d9e6940d5b20a981022"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ENCAP.html#ga7a0dc2be6c485d9e6940d5b20a981022">EncapsulationInit</a> (void)</td></tr>
<tr class="memdesc:ga7a0dc2be6c485d9e6940d5b20a981022"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the encapsulation layer.  <br /></td></tr>
<tr class="memitem:ga4b8ec8e9b8a1dd71e84f2ea54e1c2b2d" id="r_ga4b8ec8e9b8a1dd71e84f2ea54e1c2b2d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CIP__API.html#ga4b8ec8e9b8a1dd71e84f2ea54e1c2b2d">HandleReceivedExplictTcpData</a> (int socket, <a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *buffer, size_t length, int *number_of_remaining_bytes, struct sockaddr *originator_address, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memdesc:ga4b8ec8e9b8a1dd71e84f2ea54e1c2b2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the encapsulation layer that an explicit message has been received via TCP.  <br /></td></tr>
<tr class="memitem:gabde366c9e0849b9bca9c1bab7eed34f6" id="r_gabde366c9e0849b9bca9c1bab7eed34f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CIP__API.html#gabde366c9e0849b9bca9c1bab7eed34f6">HandleReceivedExplictUdpData</a> (const int socket, const struct sockaddr_in *from_address, const <a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *buffer, const size_t buffer_length, int *number_of_remaining_bytes, bool unicast, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memdesc:gabde366c9e0849b9bca9c1bab7eed34f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the encapsulation layer that an explicit message has been received via UDP.  <br /></td></tr>
<tr class="memitem:ae7eff575a29a7798e86f8aa632b0e688" id="r_ae7eff575a29a7798e86f8aa632b0e688"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae7eff575a29a7798e86f8aa632b0e688">SkipEncapsulationHeader</a> (<a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memitem:ab732340664b41f1fb0f7364dc75eb607" id="r_ab732340664b41f1fb0f7364dc75eb607"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab732340664b41f1fb0f7364dc75eb607">GenerateEncapsulationHeader</a> (const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const receive_data, const size_t command_specific_data_length, const <a class="el" href="typedefs_8h.html#abd333ceb1817147b7217a85a5287d66c">CipSessionHandle</a> session_handle, const <a class="el" href="encap_8h.html#ade64170fc04acea31424c748aa86a025">EncapsulationProtocolErrorCode</a> encapsulation_protocol_status, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memitem:a85c97a897b8f95d2a05e6480480bba5d" id="r_a85c97a897b8f95d2a05e6480480bba5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a85c97a897b8f95d2a05e6480480bba5d">HandleReceivedListServicesCommand</a> (const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const receive_data, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memdesc:a85c97a897b8f95d2a05e6480480bba5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">generate reply with "Communications Services" + compatibility Flags.  <br /></td></tr>
<tr class="memitem:a371a47e722a3aea264b6eb39cfc725aa" id="r_a371a47e722a3aea264b6eb39cfc725aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a371a47e722a3aea264b6eb39cfc725aa">HandleReceivedListInterfacesCommand</a> (const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const receive_data, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memitem:aa155387b0b3c5fe813c0276e61e28054" id="r_aa155387b0b3c5fe813c0276e61e28054"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a72c0fba927c5681c44dbf59147578fc7">CipUint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa155387b0b3c5fe813c0276e61e28054">ListIdentityGetCipIdentityItemLength</a> ()</td></tr>
<tr class="memitem:a25f80c3d5c2d4edc54d71311acda663b" id="r_a25f80c3d5c2d4edc54d71311acda663b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25f80c3d5c2d4edc54d71311acda663b">EncodeListIdentityCipIdentityItem</a> (<a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memitem:ae8d8af733e9ac70ea728d6255aced4b6" id="r_ae8d8af733e9ac70ea728d6255aced4b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae8d8af733e9ac70ea728d6255aced4b6">EncapsulateListIdentityResponseMessage</a> (const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const receive_data, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memitem:aa505d79e3ec67a2a42f18d7d61687851" id="r_aa505d79e3ec67a2a42f18d7d61687851"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa505d79e3ec67a2a42f18d7d61687851">EncapsulateRegisterSessionCommandResponseMessage</a> (const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const receive_data, const <a class="el" href="typedefs_8h.html#abd333ceb1817147b7217a85a5287d66c">CipSessionHandle</a> session_handle, const <a class="el" href="encap_8h.html#ade64170fc04acea31424c748aa86a025">EncapsulationProtocolErrorCode</a> encapsulation_protocol_status, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memitem:a6007bf2e4bd1e9b0447efc3d9937087b" id="r_a6007bf2e4bd1e9b0447efc3d9937087b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6007bf2e4bd1e9b0447efc3d9937087b">HandleReceivedRegisterSessionCommand</a> (int socket, const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const receive_data, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memitem:a51dd68441ec427052986aef5c5c076e4" id="r_a51dd68441ec427052986aef5c5c076e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51dd68441ec427052986aef5c5c076e4">HandleReceivedSendRequestResponseDataCommand</a> (const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const receive_data, const struct sockaddr *const originator_address, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memdesc:a51dd68441ec427052986aef5c5c076e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call UCMM or Message Router if UCMM not implemented.  <br /></td></tr>
<tr class="memitem:a30b682872caf4dc28e9c7bda79716886" id="r_a30b682872caf4dc28e9c7bda79716886"><td class="memItemLeft" align="right" valign="top">int_fast32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30b682872caf4dc28e9c7bda79716886">CreateEncapsulationStructure</a> (const <a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *receive_buffer, size_t receive_buffer_length, <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const <a class="el" href="structencapsulation__data.html">encapsulation_data</a>)</td></tr>
<tr class="memdesc:a30b682872caf4dc28e9c7bda79716886"><td class="mdescLeft">&#160;</td><td class="mdescRight">copy data from pa_buf in little endian to host in structure.  <br /></td></tr>
<tr class="memitem:ad083888333d3ceec1576126a88eeaca7" id="r_ad083888333d3ceec1576126a88eeaca7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad083888333d3ceec1576126a88eeaca7">CloseSessionBySessionHandle</a> (const <a class="el" href="cipconnectionobject_8h.html#a4d3da7ab056cd808b359bad6c1ad8716">CipConnectionObject</a> *const connection_object)</td></tr>
<tr class="memitem:ga00a23c1c86472edf2ed679089ae8efc1" id="r_ga00a23c1c86472edf2ed679089ae8efc1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CIP__API.html#ga00a23c1c86472edf2ed679089ae8efc1">CloseSession</a> (int socket)</td></tr>
<tr class="memdesc:ga00a23c1c86472edf2ed679089ae8efc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform the encapsulation layer that the remote host has closed the connection.  <br /></td></tr>
<tr class="memitem:a86c98c2665f4c058e9c5afb60690a81b" id="r_a86c98c2665f4c058e9c5afb60690a81b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a86c98c2665f4c058e9c5afb60690a81b">RemoveSession</a> (const int socket)</td></tr>
<tr class="memitem:ga1261bd2441f744c38d7a3f8d8c16c391" id="r_ga1261bd2441f744c38d7a3f8d8c16c391"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ENCAP.html#ga1261bd2441f744c38d7a3f8d8c16c391">EncapsulationShutDown</a> (void)</td></tr>
<tr class="memdesc:ga1261bd2441f744c38d7a3f8d8c16c391"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown the encapsulation layer.  <br /></td></tr>
<tr class="memitem:ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac" id="r_ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ENCAP.html#ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac">ManageEncapsulationMessages</a> (const <a class="el" href="typedefs_8h.html#a2972c9424f18b12265ca35d0548da82a">MilliSeconds</a> elapsed_time)</td></tr>
<tr class="memdesc:ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle delayed encapsulation message responses.  <br /></td></tr>
<tr class="memitem:a0101714be726ab1b21125b6a82ac7a56" id="r_a0101714be726ab1b21125b6a82ac7a56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0101714be726ab1b21125b6a82ac7a56">CloseEncapsulationSessionBySockAddr</a> (const <a class="el" href="cipconnectionobject_8h.html#a4d3da7ab056cd808b359bad6c1ad8716">CipConnectionObject</a> *const connection_object)</td></tr>
<tr class="memitem:a91f125b8438fab7a963debe061676abe" id="r_a91f125b8438fab7a963debe061676abe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#abd333ceb1817147b7217a85a5287d66c">CipSessionHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a91f125b8438fab7a963debe061676abe">GetSessionFromSocket</a> (const int socket_handle)</td></tr>
<tr class="memitem:af036c6bdaff487912d1edbe58a44c466" id="r_af036c6bdaff487912d1edbe58a44c466"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af036c6bdaff487912d1edbe58a44c466">CloseClass3ConnectionBasedOnSession</a> (<a class="el" href="typedefs_8h.html#abd333ceb1817147b7217a85a5287d66c">CipSessionHandle</a> encapsulation_session_handle)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:abccbd5397f9be5c24042e5f57ad392e2" id="r_abccbd5397f9be5c24042e5f57ad392e2"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abccbd5397f9be5c24042e5f57ad392e2">kSupportedProtocolVersion</a> = 1</td></tr>
<tr class="memdesc:abccbd5397f9be5c24042e5f57ad392e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Supported Encapsulation protocol version.  <br /></td></tr>
<tr class="memitem:a94c5a6c419e877a6e788c23324942ffe" id="r_a94c5a6c419e877a6e788c23324942ffe"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="typedefs_8h.html#aa6230aff6a173bcb6dc949ac85c2e7f1">CipUdint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94c5a6c419e877a6e788c23324942ffe">kEncapsulationHeaderOptionsFlag</a> = 0x00</td></tr>
<tr class="memdesc:a94c5a6c419e877a6e788c23324942ffe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mask of which options are supported as of the current CIP specs no other option value as 0 should be supported.  <br /></td></tr>
<tr class="memitem:aa298df7c4ba7abfa3bf54e4356c8eecd" id="r_aa298df7c4ba7abfa3bf54e4356c8eecd"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa298df7c4ba7abfa3bf54e4356c8eecd">kEncapsulationHeaderSessionHandlePosition</a> = 4</td></tr>
<tr class="memdesc:aa298df7c4ba7abfa3bf54e4356c8eecd"><td class="mdescLeft">&#160;</td><td class="mdescRight">the position of the session handle within the encapsulation header  <br /></td></tr>
<tr class="memitem:a65b7573fc9f2af65ed8a3165274fb3fb" id="r_a65b7573fc9f2af65ed8a3165274fb3fb"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a65b7573fc9f2af65ed8a3165274fb3fb">kListIdentityDefaultDelayTime</a> = 2000</td></tr>
<tr class="memdesc:a65b7573fc9f2af65ed8a3165274fb3fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default delay time for List Identity response.  <br /></td></tr>
<tr class="memitem:a4ec82876596d00c26e66f5c1008c533b" id="r_a4ec82876596d00c26e66f5c1008c533b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ec82876596d00c26e66f5c1008c533b">kListIdentityMinimumDelayTime</a> = 500</td></tr>
<tr class="memdesc:a4ec82876596d00c26e66f5c1008c533b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum delay time for List Identity response.  <br /></td></tr>
<tr class="memitem:a576dcdb4efc8a174059db21c05555dac" id="r_a576dcdb4efc8a174059db21c05555dac"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a576dcdb4efc8a174059db21c05555dac">kSenderContextSize</a> = 8</td></tr>
<tr class="memdesc:a576dcdb4efc8a174059db21c05555dac"><td class="mdescLeft">&#160;</td><td class="mdescRight">size of sender context in encapsulation header  <br /></td></tr>
<tr class="memitem:a1e41801f6e0d413995711bf265f96073" id="r_a1e41801f6e0d413995711bf265f96073"><td class="memItemLeft" align="right" valign="top"><a class="el" href="encap_8h.html#ab9be93daea74b7cad85854ee9fed797f">EncapsulationServiceInformation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e41801f6e0d413995711bf265f96073">g_service_information</a></td></tr>
<tr class="memitem:a7b6dba11e298fc4aacafc47ed2d565df" id="r_a7b6dba11e298fc4aacafc47ed2d565df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b6dba11e298fc4aacafc47ed2d565df">g_registered_sessions</a> [<a class="el" href="opener__user__conf_8h.html#a8d73780f7a1f5d9977d7388ebfbe1f93">OPENER_NUMBER_OF_SUPPORTED_SESSIONS</a>]</td></tr>
<tr class="memitem:a5b574ac967ff07c8a85c305972f14a1e" id="r_a5b574ac967ff07c8a85c305972f14a1e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDelayedEncapsulationMessage.html">DelayedEncapsulationMessage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b574ac967ff07c8a85c305972f14a1e">g_delayed_encapsulation_messages</a> [2]</td></tr>
</table>
<a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="aba848fec29c4e01df56756077e6a777b" name="aba848fec29c4e01df56756077e6a777b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba848fec29c4e01df56756077e6a777b">&#9670;&#160;</a></span>ENCAP_NUMBER_OF_SUPPORTED_DELAYED_ENCAP_MESSAGES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENCAP_NUMBER_OF_SUPPORTED_DELAYED_ENCAP_MESSAGES&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>According to EIP spec at least 2 delayed message requests should be supported. </p>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00061">61</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a name="doc-enum-members" id="doc-enum-members"></a><h2 id="header-doc-enum-members" class="groupheader">Enumeration Type Documentation</h2>
<a id="aa2df52999b993c2eb27861896c799903" name="aa2df52999b993c2eb27861896c799903"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2df52999b993c2eb27861896c799903">&#9670;&#160;</a></span>CapabilityFlags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#aa2df52999b993c2eb27861896c799903">CapabilityFlags</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>definition of capability flags </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa2df52999b993c2eb27861896c799903a53cfd1843c4cf433834aa2c91179bba9" name="aa2df52999b993c2eb27861896c799903a53cfd1843c4cf433834aa2c91179bba9"></a>kCapabilityFlagsCipTcp&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa2df52999b993c2eb27861896c799903a43720dff6327ca8e9b80fb64e2f303b5" name="aa2df52999b993c2eb27861896c799903a43720dff6327ca8e9b80fb64e2f303b5"></a>kCapabilityFlagsCipUdpClass0or1&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00056">56</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a95edc0c537bea99e39a8592b3fd4f977" name="a95edc0c537bea99e39a8592b3fd4f977"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95edc0c537bea99e39a8592b3fd4f977">&#9670;&#160;</a></span>EncapsulationCommand</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a95edc0c537bea99e39a8592b3fd4f977">EncapsulationCommand</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>definition of known encapsulation commands </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a95edc0c537bea99e39a8592b3fd4f977a69d0f5b4b9d69853e76005e3f9f01890" name="a95edc0c537bea99e39a8592b3fd4f977a69d0f5b4b9d69853e76005e3f9f01890"></a>kEncapsulationCommandNoOperation&#160;</td><td class="fielddoc"><p>only allowed for TCP </p>
</td></tr>
<tr><td class="fieldname"><a id="a95edc0c537bea99e39a8592b3fd4f977aab5bfc872dca566c6c50354abb876774" name="a95edc0c537bea99e39a8592b3fd4f977aab5bfc872dca566c6c50354abb876774"></a>kEncapsulationCommandListServices&#160;</td><td class="fielddoc"><p>allowed for both UDP and TCP </p>
</td></tr>
<tr><td class="fieldname"><a id="a95edc0c537bea99e39a8592b3fd4f977ab2f781d132ba002b7c5283c2723538c6" name="a95edc0c537bea99e39a8592b3fd4f977ab2f781d132ba002b7c5283c2723538c6"></a>kEncapsulationCommandListIdentity&#160;</td><td class="fielddoc"><p>allowed for both UDP and TCP </p>
</td></tr>
<tr><td class="fieldname"><a id="a95edc0c537bea99e39a8592b3fd4f977a34eb564156c11cb7c833de8d2ad48d30" name="a95edc0c537bea99e39a8592b3fd4f977a34eb564156c11cb7c833de8d2ad48d30"></a>kEncapsulationCommandListInterfaces&#160;</td><td class="fielddoc"><p>optional, allowed for both UDP and TCP </p>
</td></tr>
<tr><td class="fieldname"><a id="a95edc0c537bea99e39a8592b3fd4f977a856da1c94e075535aa674c467410d8b4" name="a95edc0c537bea99e39a8592b3fd4f977a856da1c94e075535aa674c467410d8b4"></a>kEncapsulationCommandRegisterSession&#160;</td><td class="fielddoc"><p>only allowed for TCP </p>
</td></tr>
<tr><td class="fieldname"><a id="a95edc0c537bea99e39a8592b3fd4f977a56ea9cffabb76e5565419eb22f6f8eee" name="a95edc0c537bea99e39a8592b3fd4f977a56ea9cffabb76e5565419eb22f6f8eee"></a>kEncapsulationCommandUnregisterSession&#160;</td><td class="fielddoc"><p>only allowed for TCP </p>
</td></tr>
<tr><td class="fieldname"><a id="a95edc0c537bea99e39a8592b3fd4f977affa56cf9675783b75d7747627ac45f08" name="a95edc0c537bea99e39a8592b3fd4f977affa56cf9675783b75d7747627ac45f08"></a>kEncapsulationCommandSendRequestReplyData&#160;</td><td class="fielddoc"><p>only allowed for TCP </p>
</td></tr>
<tr><td class="fieldname"><a id="a95edc0c537bea99e39a8592b3fd4f977a8b3659e119290957cb24f94cf3dbde09" name="a95edc0c537bea99e39a8592b3fd4f977a8b3659e119290957cb24f94cf3dbde09"></a>kEncapsulationCommandSendUnitData&#160;</td><td class="fielddoc"><p>only allowed for TCP </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00044">44</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="aa68bfc8983f200bfbae62a07dd04ebf0" name="aa68bfc8983f200bfbae62a07dd04ebf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa68bfc8983f200bfbae62a07dd04ebf0">&#9670;&#160;</a></span>SessionStatus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#aa68bfc8983f200bfbae62a07dd04ebf0">SessionStatus</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa68bfc8983f200bfbae62a07dd04ebf0ab5eca12b03104fe48d3170f7c9f5f8cc" name="aa68bfc8983f200bfbae62a07dd04ebf0ab5eca12b03104fe48d3170f7c9f5f8cc"></a>kSessionStatusInvalid&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aa68bfc8983f200bfbae62a07dd04ebf0a20e998dae8e4ce10a835850f87a01afa" name="aa68bfc8983f200bfbae62a07dd04ebf0a20e998dae8e4ce10a835850f87a01afa"></a>kSessionStatusValid&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00036">36</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a4aebd689a5226c74a7b7a87bc7ef1d92" name="a4aebd689a5226c74a7b7a87bc7ef1d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4aebd689a5226c74a7b7a87bc7ef1d92">&#9670;&#160;</a></span>CheckRegisteredSessions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#aa68bfc8983f200bfbae62a07dd04ebf0">SessionStatus</a> CheckRegisteredSessions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const</td>          <td class="paramname"><span class="paramname"><em>receive_data</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if received package belongs to registered session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">receive_data</td><td>Received data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 .. Session registered kInvalidSession .. invalid session -&gt; return unsupported command received </dd></dl>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00625">625</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="af036c6bdaff487912d1edbe58a44c466" name="af036c6bdaff487912d1edbe58a44c466"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af036c6bdaff487912d1edbe58a44c466">&#9670;&#160;</a></span>CloseClass3ConnectionBasedOnSession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CloseClass3ConnectionBasedOnSession </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="typedefs_8h.html#abd333ceb1817147b7217a85a5287d66c">CipSessionHandle</a></td>          <td class="paramname"><span class="paramname"><em>encapsulation_session_handle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00729">729</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a0101714be726ab1b21125b6a82ac7a56" name="a0101714be726ab1b21125b6a82ac7a56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0101714be726ab1b21125b6a82ac7a56">&#9670;&#160;</a></span>CloseEncapsulationSessionBySockAddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CloseEncapsulationSessionBySockAddr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="cipconnectionobject_8h.html#a4d3da7ab056cd808b359bad6c1ad8716">CipConnectionObject</a> *const</td>          <td class="paramname"><span class="paramname"><em>connection_object</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00700">700</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="ad083888333d3ceec1576126a88eeaca7" name="ad083888333d3ceec1576126a88eeaca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad083888333d3ceec1576126a88eeaca7">&#9670;&#160;</a></span>CloseSessionBySessionHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CloseSessionBySessionHandle </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="cipconnectionobject_8h.html#a4d3da7ab056cd808b359bad6c1ad8716">CipConnectionObject</a> *const</td>          <td class="paramname"><span class="paramname"><em>connection_object</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00644">644</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a30b682872caf4dc28e9c7bda79716886" name="a30b682872caf4dc28e9c7bda79716886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30b682872caf4dc28e9c7bda79716886">&#9670;&#160;</a></span>CreateEncapsulationStructure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int_fast32_t CreateEncapsulationStructure </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *</td>          <td class="paramname"><span class="paramname"><em>receive_buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>receive_buffer_length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const</td>          <td class="paramname"><span class="paramname"><em>encapsulation_data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>copy data from pa_buf in little endian to host in structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">receive_buffer</td><td>Received message </td></tr>
    <tr><td class="paramname">receive_buffer_length</td><td>Length of the data in receive_buffer. Might be more than one message </td></tr>
    <tr><td class="paramname"><a class="el" href="structencapsulation__data.html">encapsulation_data</a></td><td>structure to which data shall be copied </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return difference between bytes in pa_buf an data_length 0 .. full package received &gt;0 .. more than one packet received &lt;0 .. only fragment of data portion received </dd></dl>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00598">598</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a9b6e025b7991ad51d31e7a66e74e475f" name="a9b6e025b7991ad51d31e7a66e74e475f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b6e025b7991ad51d31e7a66e74e475f">&#9670;&#160;</a></span>DetermineDelayTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DetermineDelayTime </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="typedefs_8h.html#a168bac8db7e7e6d944700e1ac4717ae3">EipByte</a> *</td>          <td class="paramname"><span class="paramname"><em>buffer_start</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structDelayedEncapsulationMessage.html">DelayedEncapsulationMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>delayed_message_buffer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00405">405</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="ae8d8af733e9ac70ea728d6255aced4b6" name="ae8d8af733e9ac70ea728d6255aced4b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8d8af733e9ac70ea728d6255aced4b6">&#9670;&#160;</a></span>EncapsulateListIdentityResponseMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EncapsulateListIdentityResponseMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const</td>          <td class="paramname"><span class="paramname"><em>receive_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00392">392</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="aa505d79e3ec67a2a42f18d7d61687851" name="aa505d79e3ec67a2a42f18d7d61687851"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa505d79e3ec67a2a42f18d7d61687851">&#9670;&#160;</a></span>EncapsulateRegisterSessionCommandResponseMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EncapsulateRegisterSessionCommandResponseMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const</td>          <td class="paramname"><span class="paramname"><em>receive_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="typedefs_8h.html#abd333ceb1817147b7217a85a5287d66c">CipSessionHandle</a></td>          <td class="paramname"><span class="paramname"><em>session_handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="encap_8h.html#ade64170fc04acea31424c748aa86a025">EncapsulationProtocolErrorCode</a></td>          <td class="paramname"><span class="paramname"><em>encapsulation_protocol_status</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00419">419</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a25f80c3d5c2d4edc54d71311acda663b" name="a25f80c3d5c2d4edc54d71311acda663b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25f80c3d5c2d4edc54d71311acda663b">&#9670;&#160;</a></span>EncodeListIdentityCipIdentityItem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EncodeListIdentityCipIdentityItem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Port to be used per default for messages on TCP</p>
<p>Array of USINT - length 8 shall be set to zero</p>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00362">362</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="ab732340664b41f1fb0f7364dc75eb607" name="ab732340664b41f1fb0f7364dc75eb607"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab732340664b41f1fb0f7364dc75eb607">&#9670;&#160;</a></span>GenerateEncapsulationHeader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GenerateEncapsulationHeader </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const</td>          <td class="paramname"><span class="paramname"><em>receive_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t</td>          <td class="paramname"><span class="paramname"><em>command_specific_data_length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="typedefs_8h.html#abd333ceb1817147b7217a85a5287d66c">CipSessionHandle</a></td>          <td class="paramname"><span class="paramname"><em>session_handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="encap_8h.html#ade64170fc04acea31424c748aa86a025">EncapsulationProtocolErrorCode</a></td>          <td class="paramname"><span class="paramname"><em>encapsulation_protocol_status</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00277">277</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="ad674cdd0452f59d824a0bebbf678cb6d" name="ad674cdd0452f59d824a0bebbf678cb6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad674cdd0452f59d824a0bebbf678cb6d">&#9670;&#160;</a></span>GetFreeSessionIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GetFreeSessionIndex </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>search for available sessions an return index. </p>
<dl class="section return"><dt>Returns</dt><dd>return index of free session in anRegisteredSessions. kInvalidSession .. no free session available </dd></dl>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00580">580</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a91f125b8438fab7a963debe061676abe" name="a91f125b8438fab7a963debe061676abe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91f125b8438fab7a963debe061676abe">&#9670;&#160;</a></span>GetSessionFromSocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#abd333ceb1817147b7217a85a5287d66c">CipSessionHandle</a> GetSessionFromSocket </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>socket_handle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00720">720</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a7ad422d8ac1cc9507d6fd73837302c3a" name="a7ad422d8ac1cc9507d6fd73837302c3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ad422d8ac1cc9507d6fd73837302c3a">&#9670;&#160;</a></span>HandleReceivedInvalidCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> HandleReceivedInvalidCommand </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const</td>          <td class="paramname"><span class="paramname"><em>receive_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00568">568</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="ae4d21e6254396c9cb1b5716b054e57de" name="ae4d21e6254396c9cb1b5716b054e57de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4d21e6254396c9cb1b5716b054e57de">&#9670;&#160;</a></span>HandleReceivedListIdentityCommandTcp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HandleReceivedListIdentityCommandTcp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const</td>          <td class="paramname"><span class="paramname"><em>receive_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00326">326</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="aa0d5bea99dea774897a8626bab414796" name="aa0d5bea99dea774897a8626bab414796"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0d5bea99dea774897a8626bab414796">&#9670;&#160;</a></span>HandleReceivedListIdentityCommandUdp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HandleReceivedListIdentityCommandUdp </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>socket</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct sockaddr_in *const</td>          <td class="paramname"><span class="paramname"><em>from_address</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const</td>          <td class="paramname"><span class="paramname"><em>receive_data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&lt; According to EIP spec at least 2 delayed message requests should be supported</p>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00330">330</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a371a47e722a3aea264b6eb39cfc725aa" name="a371a47e722a3aea264b6eb39cfc725aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a371a47e722a3aea264b6eb39cfc725aa">&#9670;&#160;</a></span>HandleReceivedListInterfacesCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HandleReceivedListInterfacesCommand </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const</td>          <td class="paramname"><span class="paramname"><em>receive_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00314">314</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a85c97a897b8f95d2a05e6480480bba5d" name="a85c97a897b8f95d2a05e6480480bba5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85c97a897b8f95d2a05e6480480bba5d">&#9670;&#160;</a></span>HandleReceivedListServicesCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HandleReceivedListServicesCommand </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const</td>          <td class="paramname"><span class="paramname"><em>receive_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>generate reply with "Communications Services" + compatibility Flags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">receive_data</td><td>pointer to structure with received data </td></tr>
    <tr><td class="paramname">outgoing_message</td><td>The outgoing ENIP message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00293">293</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a6007bf2e4bd1e9b0447efc3d9937087b" name="a6007bf2e4bd1e9b0447efc3d9937087b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6007bf2e4bd1e9b0447efc3d9937087b">&#9670;&#160;</a></span>HandleReceivedRegisterSessionCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HandleReceivedRegisterSessionCommand </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>socket</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const</td>          <td class="paramname"><span class="paramname"><em>receive_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00435">435</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a51dd68441ec427052986aef5c5c076e4" name="a51dd68441ec427052986aef5c5c076e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51dd68441ec427052986aef5c5c076e4">&#9670;&#160;</a></span>HandleReceivedSendRequestResponseDataCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> HandleReceivedSendRequestResponseDataCommand </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const</td>          <td class="paramname"><span class="paramname"><em>receive_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct sockaddr *const</td>          <td class="paramname"><span class="paramname"><em>originator_address</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call UCMM or Message Router if UCMM not implemented. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">receive_data</td><td>Pointer to structure with data and header information. </td></tr>
    <tr><td class="paramname">originator_address</td><td>Address of the originator as received from socket </td></tr>
    <tr><td class="paramname">outgoing_message</td><td>The outgoing ENIP message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status kEipStatusOk .. success. kEipStatusOkSend .. success &amp; need to send response kEipStatusError .. error </dd></dl>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00544">544</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a49dc585614f655a5b313150a01fd7221" name="a49dc585614f655a5b313150a01fd7221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49dc585614f655a5b313150a01fd7221">&#9670;&#160;</a></span>HandleReceivedSendUnitDataCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> HandleReceivedSendUnitDataCommand </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const</td>          <td class="paramname"><span class="paramname"><em>receive_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct sockaddr *const</td>          <td class="paramname"><span class="paramname"><em>originator_address</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call Connection Manager. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">receive_data</td><td>Pointer to structure with data and header information. </td></tr>
    <tr><td class="paramname">originator_address</td><td>Address of the originator as received from socket </td></tr>
    <tr><td class="paramname">outgoing_message</td><td>The outgoing ENIP message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00512">512</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a601cd19c88f03fd742f098a1bf5b9e85" name="a601cd19c88f03fd742f098a1bf5b9e85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a601cd19c88f03fd742f098a1bf5b9e85">&#9670;&#160;</a></span>HandleReceivedUnregisterSessionCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> HandleReceivedUnregisterSessionCommand </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const</td>          <td class="paramname"><span class="paramname"><em>receive_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister encapsulation session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">receive_data</td><td>Pointer to structure with data and header information. </td></tr>
    <tr><td class="paramname">outgoing_message</td><td>The outgoing ENIP message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>kEipStatusOkSend: a response needs to be sent, others: EIP stack status</dd></dl>
<p>Close all corresponding TCP connections and delete session handle. </p>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00489">489</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="aa155387b0b3c5fe813c0276e61e28054" name="aa155387b0b3c5fe813c0276e61e28054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa155387b0b3c5fe813c0276e61e28054">&#9670;&#160;</a></span>ListIdentityGetCipIdentityItemLength()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#a72c0fba927c5681c44dbf59147578fc7">CipUint</a> ListIdentityGetCipIdentityItemLength </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00357">357</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a86c98c2665f4c058e9c5afb60690a81b" name="a86c98c2665f4c058e9c5afb60690a81b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86c98c2665f4c058e9c5afb60690a81b">&#9670;&#160;</a></span>RemoveSession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RemoveSession </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>socket</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00664">664</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="ae7eff575a29a7798e86f8aa632b0e688" name="ae7eff575a29a7798e86f8aa632b0e688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7eff575a29a7798e86f8aa632b0e688">&#9670;&#160;</a></span>SkipEncapsulationHeader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SkipEncapsulationHeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00272">272</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="a5b574ac967ff07c8a85c305972f14a1e" name="a5b574ac967ff07c8a85c305972f14a1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b574ac967ff07c8a85c305972f14a1e">&#9670;&#160;</a></span>g_delayed_encapsulation_messages</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDelayedEncapsulationMessage.html">DelayedEncapsulationMessage</a> g_delayed_encapsulation_messages[2]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00077">77</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a7b6dba11e298fc4aacafc47ed2d565df" name="a7b6dba11e298fc4aacafc47ed2d565df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b6dba11e298fc4aacafc47ed2d565df">&#9670;&#160;</a></span>g_registered_sessions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int g_registered_sessions[<a class="el" href="opener__user__conf_8h.html#a8d73780f7a1f5d9977d7388ebfbe1f93">OPENER_NUMBER_OF_SUPPORTED_SESSIONS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00075">75</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a1e41801f6e0d413995711bf265f96073" name="a1e41801f6e0d413995711bf265f96073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e41801f6e0d413995711bf265f96073">&#9670;&#160;</a></span>g_service_information</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="encap_8h.html#ab9be93daea74b7cad85854ee9fed797f">EncapsulationServiceInformation</a> g_service_information</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00073">73</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a94c5a6c419e877a6e788c23324942ffe" name="a94c5a6c419e877a6e788c23324942ffe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94c5a6c419e877a6e788c23324942ffe">&#9670;&#160;</a></span>kEncapsulationHeaderOptionsFlag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="typedefs_8h.html#aa6230aff6a173bcb6dc949ac85c2e7f1">CipUdint</a> kEncapsulationHeaderOptionsFlag = 0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mask of which options are supported as of the current CIP specs no other option value as 0 should be supported. </p>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00029">29</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="aa298df7c4ba7abfa3bf54e4356c8eecd" name="aa298df7c4ba7abfa3bf54e4356c8eecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa298df7c4ba7abfa3bf54e4356c8eecd">&#9670;&#160;</a></span>kEncapsulationHeaderSessionHandlePosition</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int kEncapsulationHeaderSessionHandlePosition = 4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the position of the session handle within the encapsulation header </p>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00031">31</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a65b7573fc9f2af65ed8a3165274fb3fb" name="a65b7573fc9f2af65ed8a3165274fb3fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65b7573fc9f2af65ed8a3165274fb3fb">&#9670;&#160;</a></span>kListIdentityDefaultDelayTime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> kListIdentityDefaultDelayTime = 2000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default delay time for List Identity response. </p>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00033">33</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a4ec82876596d00c26e66f5c1008c533b" name="a4ec82876596d00c26e66f5c1008c533b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ec82876596d00c26e66f5c1008c533b">&#9670;&#160;</a></span>kListIdentityMinimumDelayTime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> kListIdentityMinimumDelayTime = 500</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Minimum delay time for List Identity response. </p>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00034">34</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="a576dcdb4efc8a174059db21c05555dac" name="a576dcdb4efc8a174059db21c05555dac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a576dcdb4efc8a174059db21c05555dac">&#9670;&#160;</a></span>kSenderContextSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int kSenderContextSize = 8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>size of sender context in encapsulation header </p>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00041">41</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="abccbd5397f9be5c24042e5f57ad392e2" name="abccbd5397f9be5c24042e5f57ad392e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abccbd5397f9be5c24042e5f57ad392e2">&#9670;&#160;</a></span>kSupportedProtocolVersion</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> kSupportedProtocolVersion = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Supported Encapsulation protocol version. </p>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00027">27</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_409f97388efe006bc3438b95e9edef48.html">components</a></li><li class="navelem"><a href="dir_3e5983321824e3aa270636e31f7b146d.html">opener</a></li><li class="navelem"><a href="dir_81d8dde9166560fc32469eff5c6d0760.html">src</a></li><li class="navelem"><a href="dir_df568fd59597510125b222e572dc4caa.html">enet_encap</a></li><li class="navelem"><a href="encap_8c.html">encap.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
