<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP32-P4 EtherNet/IP Device: components/opener/src/cip/cipmessagerouter.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESP32-P4 EtherNet/IP Device<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">EtherNet/IP adapter with IMU sensors and I/O expansion</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('cipmessagerouter_8c.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">cipmessagerouter.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="opener__api_8h_source.html">opener_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cipcommon_8h_source.html">cipcommon.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="endianconv_8h_source.html">endianconv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ciperror_8h_source.html">ciperror.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trace_8h_source.html">trace.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="enipmessage_8h_source.html">enipmessage.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cipmessagerouter_8h_source.html">cipmessagerouter.h</a>&quot;</code><br />
</div>
<p><a href="cipmessagerouter_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:cip_5Fmessage_5Frouter_5Fobject" id="r_cip_5Fmessage_5Frouter_5Fobject"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcip__message__router__object.html">cip_message_router_object</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class registry list node.  <a href="structcip__message__router__object.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-typedef-members" class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a180327040c13d1746a499f7b37a2101a" id="r_a180327040c13d1746a499f7b37a2101a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structcip__message__router__object.html">cip_message_router_object</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a180327040c13d1746a499f7b37a2101a">CipMessageRouterObject</a></td></tr>
<tr class="memdesc:a180327040c13d1746a499f7b37a2101a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class registry list node.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae00f521e394d00fd5fd99271a6983116" id="r_ae00f521e394d00fd5fd99271a6983116"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae00f521e394d00fd5fd99271a6983116">RegisterCipClass</a> (<a class="el" href="ciptypes_8h.html#a6b3bcf5d0ae9f26c93409c2a1a88e140">CipClass</a> *<a class="el" href="structcip__class.html">cip_class</a>)</td></tr>
<tr class="memdesc:ae00f521e394d00fd5fd99271a6983116"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a CIP Class to the message router.  <br /></td></tr>
<tr class="memitem:acce609c2d88a22c290a00cd03991f78f" id="r_acce609c2d88a22c290a00cd03991f78f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ciperror_8h.html#a01a2d66a1bdaea7c81e29d4d2530d218">CipError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acce609c2d88a22c290a00cd03991f78f">CreateMessageRouterRequestStructure</a> (const <a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *data, <a class="el" href="typedefs_8h.html#a3112f543eced50bf7680d12202c50f60">EipInt16</a> data_length, <a class="el" href="structCipMessageRouterRequest.html">CipMessageRouterRequest</a> *message_router_request)</td></tr>
<tr class="memdesc:acce609c2d88a22c290a00cd03991f78f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create Message Router Request structure out of the received data.  <br /></td></tr>
<tr class="memitem:aa48077419a6045debf033e81946ee40c" id="r_aa48077419a6045debf033e81946ee40c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa48077419a6045debf033e81946ee40c">InitializeCipMessageRouterClass</a> (<a class="el" href="ciptypes_8h.html#a6b3bcf5d0ae9f26c93409c2a1a88e140">CipClass</a> *<a class="el" href="structcip__class.html">cip_class</a>)</td></tr>
<tr class="memitem:acbd84034d84f697031ad9de10c8d1388" id="r_acbd84034d84f697031ad9de10c8d1388"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acbd84034d84f697031ad9de10c8d1388">CipMessageRouterInit</a> ()</td></tr>
<tr class="memdesc:acbd84034d84f697031ad9de10c8d1388"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the data structures of the message router.  <br /></td></tr>
<tr class="memitem:acbb0e0bdf3ac4679764d44f895fc5432" id="r_acbb0e0bdf3ac4679764d44f895fc5432"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a180327040c13d1746a499f7b37a2101a">CipMessageRouterObject</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acbb0e0bdf3ac4679764d44f895fc5432">GetRegisteredObject</a> (<a class="el" href="typedefs_8h.html#abf2dd49262551294eb990ef8746a2767">EipUint32</a> class_id)</td></tr>
<tr class="memdesc:acbb0e0bdf3ac4679764d44f895fc5432"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the registered MessageRouter object corresponding to ClassID.  <br /></td></tr>
<tr class="memitem:ga99427312acbae80323c7570bc5699f47" id="r_ga99427312acbae80323c7570bc5699f47"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ciptypes_8h.html#a6b3bcf5d0ae9f26c93409c2a1a88e140">CipClass</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CIP__API.html#ga99427312acbae80323c7570bc5699f47">GetCipClass</a> (const <a class="el" href="typedefs_8h.html#aa6230aff6a173bcb6dc949ac85c2e7f1">CipUdint</a> class_code)</td></tr>
<tr class="memdesc:ga99427312acbae80323c7570bc5699f47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to a CIP object with given class code.  <br /></td></tr>
<tr class="memitem:ga6a6104d9eea6a661eec9a473705e244a" id="r_ga6a6104d9eea6a661eec9a473705e244a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ciptypes_8h.html#a127797e9f78bd953436d3b09dcfd729e">CipInstance</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__CIP__API.html#ga6a6104d9eea6a661eec9a473705e244a">GetCipInstance</a> (const <a class="el" href="ciptypes_8h.html#a6b3bcf5d0ae9f26c93409c2a1a88e140">CipClass</a> *<a class="el" href="opener__user__conf_8h.html#aae3356b63849abbe8789dd41648ee90a">RESTRICT</a> const <a class="el" href="structcip__class.html">cip_class</a>, const <a class="el" href="typedefs_8h.html#a36428eddfec3b849f70f1e10a7fcaaf1">CipInstanceNum</a> instance_number)</td></tr>
<tr class="memdesc:ga6a6104d9eea6a661eec9a473705e244a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to an instance.  <br /></td></tr>
<tr class="memitem:a35a570ccb7008b9fcb3f7b58cc450835" id="r_a35a570ccb7008b9fcb3f7b58cc450835"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a35a570ccb7008b9fcb3f7b58cc450835">NotifyMessageRouter</a> (<a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *data, int data_length, <a class="el" href="structCipMessageRouterResponse.html">CipMessageRouterResponse</a> *message_router_response, const struct sockaddr *const originator_address, const <a class="el" href="typedefs_8h.html#abd333ceb1817147b7217a85a5287d66c">CipSessionHandle</a> encapsulation_session)</td></tr>
<tr class="memdesc:a35a570ccb7008b9fcb3f7b58cc450835"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the MessageRouter that an explicit message (connected or unconnected) has been received.  <br /></td></tr>
<tr class="memitem:a16364f408990e2a5725f2fd5375ef3df" id="r_a16364f408990e2a5725f2fd5375ef3df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16364f408990e2a5725f2fd5375ef3df">DeleteAllClasses</a> (void)</td></tr>
<tr class="memdesc:a16364f408990e2a5725f2fd5375ef3df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free all data allocated by the classes created in the CIP stack.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac41a8799d5a505cb5a23fe7ea87ce0ba" id="r_ac41a8799d5a505cb5a23fe7ea87ce0ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structCipMessageRouterRequest.html">CipMessageRouterRequest</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac41a8799d5a505cb5a23fe7ea87ce0ba">g_message_router_request</a></td></tr>
<tr class="memitem:a1135eaf46749c1da94f03444f74690ac" id="r_a1135eaf46749c1da94f03444f74690ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a180327040c13d1746a499f7b37a2101a">CipMessageRouterObject</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1135eaf46749c1da94f03444f74690ac">g_first_object</a> = NULL</td></tr>
<tr class="memdesc:a1135eaf46749c1da94f03444f74690ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to first registered object in MessageRouter.  <br /></td></tr>
</table>
<a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Typedef Documentation</h2>
<a id="a180327040c13d1746a499f7b37a2101a" name="a180327040c13d1746a499f7b37a2101a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a180327040c13d1746a499f7b37a2101a">&#9670;&#160;</a></span>CipMessageRouterObject</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcip__message__router__object.html">cip_message_router_object</a> <a class="el" href="#a180327040c13d1746a499f7b37a2101a">CipMessageRouterObject</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A class registry list node. </p>
<p>A linked list of this object is the registry of classes known to the message router for small devices with very limited memory it could make sense to change this list into an array with a given max size for removing the need for having to dynamically allocate memory. The size of the array could be a parameter in the platform config file. </p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="acbd84034d84f697031ad9de10c8d1388" name="acbd84034d84f697031ad9de10c8d1388"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbd84034d84f697031ad9de10c8d1388">&#9670;&#160;</a></span>CipMessageRouterInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> CipMessageRouterInit </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the data structures of the message router. </p>
<dl class="section return"><dt>Returns</dt><dd>kEipStatusOk if class was initialized, otherwise kEipStatusError </dd></dl>

<p class="definition">Definition at line <a class="el" href="cipmessagerouter_8c_source.html#l00082">82</a> of file <a class="el" href="cipmessagerouter_8c_source.html">cipmessagerouter.c</a>.</p>

</div>
</div>
<a id="acce609c2d88a22c290a00cd03991f78f" name="acce609c2d88a22c290a00cd03991f78f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acce609c2d88a22c290a00cd03991f78f">&#9670;&#160;</a></span>CreateMessageRouterRequestStructure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ciperror_8h.html#a01a2d66a1bdaea7c81e29d4d2530d218">CipError</a> CreateMessageRouterRequestStructure </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="typedefs_8h.html#a3112f543eced50bf7680d12202c50f60">EipInt16</a></td>          <td class="paramname"><span class="paramname"><em>data_length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCipMessageRouterRequest.html">CipMessageRouterRequest</a> *</td>          <td class="paramname"><span class="paramname"><em>message_router_request</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create Message Router Request structure out of the received data. </p>
<p>Parses the UCMM header consisting of: service, IOI size, IOI, data into a request structure </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>pointer to the message data received </td></tr>
    <tr><td class="paramname">data_length</td><td>number of bytes in the message </td></tr>
    <tr><td class="paramname">message_router_request</td><td>pointer to structure of MRRequest data item. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>kEipStatusOk on success. otherwise kEipStatusError </dd></dl>

<p class="definition">Definition at line <a class="el" href="cipmessagerouter_8c_source.html#l00243">243</a> of file <a class="el" href="cipmessagerouter_8c_source.html">cipmessagerouter.c</a>.</p>

</div>
</div>
<a id="a16364f408990e2a5725f2fd5375ef3df" name="a16364f408990e2a5725f2fd5375ef3df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16364f408990e2a5725f2fd5375ef3df">&#9670;&#160;</a></span>DeleteAllClasses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DeleteAllClasses </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free all data allocated by the classes created in the CIP stack. </p>

<p class="definition">Definition at line <a class="el" href="cipmessagerouter_8c_source.html#l00271">271</a> of file <a class="el" href="cipmessagerouter_8c_source.html">cipmessagerouter.c</a>.</p>

</div>
</div>
<a id="acbb0e0bdf3ac4679764d44f895fc5432" name="acbb0e0bdf3ac4679764d44f895fc5432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbb0e0bdf3ac4679764d44f895fc5432">&#9670;&#160;</a></span>GetRegisteredObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a180327040c13d1746a499f7b37a2101a">CipMessageRouterObject</a> * GetRegisteredObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="typedefs_8h.html#abf2dd49262551294eb990ef8746a2767">EipUint32</a></td>          <td class="paramname"><span class="paramname"><em>class_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the registered MessageRouter object corresponding to ClassID. </p>
<p>given a class ID, return a pointer to the registration node for that object</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">class_id</td><td>Class code to be searched for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to registered message router object NULL .. Class not registered </dd></dl>

<p class="definition">Definition at line <a class="el" href="cipmessagerouter_8c_source.html#l00114">114</a> of file <a class="el" href="cipmessagerouter_8c_source.html">cipmessagerouter.c</a>.</p>

</div>
</div>
<a id="aa48077419a6045debf033e81946ee40c" name="aa48077419a6045debf033e81946ee40c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa48077419a6045debf033e81946ee40c">&#9670;&#160;</a></span>InitializeCipMessageRouterClass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitializeCipMessageRouterClass </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#a6b3bcf5d0ae9f26c93409c2a1a88e140">CipClass</a> *</td>          <td class="paramname"><span class="paramname"><em>cip_class</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cipmessagerouter_8c_source.html#l00051">51</a> of file <a class="el" href="cipmessagerouter_8c_source.html">cipmessagerouter.c</a>.</p>

</div>
</div>
<a id="a35a570ccb7008b9fcb3f7b58cc450835" name="a35a570ccb7008b9fcb3f7b58cc450835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35a570ccb7008b9fcb3f7b58cc450835">&#9670;&#160;</a></span>NotifyMessageRouter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> NotifyMessageRouter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>data_length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCipMessageRouterResponse.html">CipMessageRouterResponse</a> *</td>          <td class="paramname"><span class="paramname"><em>message_router_response</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct sockaddr *const</td>          <td class="paramname"><span class="paramname"><em>originator_address</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="typedefs_8h.html#abd333ceb1817147b7217a85a5287d66c">CipSessionHandle</a></td>          <td class="paramname"><span class="paramname"><em>encapsulation_session</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify the MessageRouter that an explicit message (connected or unconnected) has been received. </p>
<p>This function will be called from the encapsulation layer. The CPF structure is already parsed an can be accessed via the global variable: g_stCPFDataItem. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>pointer to the data buffer of the message directly at the beginning of the CIP part. </td></tr>
    <tr><td class="paramname">data_length</td><td>number of bytes in the data buffer </td></tr>
    <tr><td class="paramname">originator_address</td><td>The address of the originator as received </td></tr>
    <tr><td class="paramname">encapsulation_session</td><td>The associated encapsulation session of the explicit message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>kEipStatusError on fault kEipStatusOk on success </dd></dl>

<p class="definition">Definition at line <a class="el" href="cipmessagerouter_8c_source.html#l00177">177</a> of file <a class="el" href="cipmessagerouter_8c_source.html">cipmessagerouter.c</a>.</p>

</div>
</div>
<a id="ae00f521e394d00fd5fd99271a6983116" name="ae00f521e394d00fd5fd99271a6983116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae00f521e394d00fd5fd99271a6983116">&#9670;&#160;</a></span>RegisterCipClass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> RegisterCipClass </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#a6b3bcf5d0ae9f26c93409c2a1a88e140">CipClass</a> *</td>          <td class="paramname"><span class="paramname"><em>cip_class</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a CIP Class to the message router. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="structcip__class.html" title="Type definition of CipClass that is a subclass of CipInstance.">cip_class</a></td><td>Pointer to a class object to be registered. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>kEipStatusOk on success kEipStatusError on no memory available to register more objects </dd></dl>

<p class="definition">Definition at line <a class="el" href="cipmessagerouter_8c_source.html#l00158">158</a> of file <a class="el" href="cipmessagerouter_8c_source.html">cipmessagerouter.c</a>.</p>

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="a1135eaf46749c1da94f03444f74690ac" name="a1135eaf46749c1da94f03444f74690ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1135eaf46749c1da94f03444f74690ac">&#9670;&#160;</a></span>g_first_object</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a180327040c13d1746a499f7b37a2101a">CipMessageRouterObject</a>* g_first_object = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to first registered object in MessageRouter. </p>

<p class="definition">Definition at line <a class="el" href="cipmessagerouter_8c_source.html#l00030">30</a> of file <a class="el" href="cipmessagerouter_8c_source.html">cipmessagerouter.c</a>.</p>

</div>
</div>
<a id="ac41a8799d5a505cb5a23fe7ea87ce0ba" name="ac41a8799d5a505cb5a23fe7ea87ce0ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac41a8799d5a505cb5a23fe7ea87ce0ba">&#9670;&#160;</a></span>g_message_router_request</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structCipMessageRouterRequest.html">CipMessageRouterRequest</a> g_message_router_request</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cipmessagerouter_8c_source.html#l00015">15</a> of file <a class="el" href="cipmessagerouter_8c_source.html">cipmessagerouter.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_409f97388efe006bc3438b95e9edef48.html">components</a></li><li class="navelem"><a href="dir_3e5983321824e3aa270636e31f7b146d.html">opener</a></li><li class="navelem"><a href="dir_81d8dde9166560fc32469eff5c6d0760.html">src</a></li><li class="navelem"><a href="dir_1b03e6914a85875f6dc68cb0efcab732.html">cip</a></li><li class="navelem"><a href="cipmessagerouter_8c.html">cipmessagerouter.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
