<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP32-P4 EtherNet/IP Device: OpENer Ethernet encapsulation layer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESP32-P4 EtherNet/IP Device<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">EtherNet/IP adapter with IMU sensors and I/O expansion</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group__ENCAP.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">OpENer Ethernet encapsulation layer </div></div>
</div><!--header-->
<div class="contents">

<p>The Ethernet encapsulation layer handles provides the abstraction between the Ethernet and the CIP layer.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-enum-members" class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gafdcff621008b5e305165424c6ac4ea25" id="r_gafdcff621008b5e305165424c6ac4ea25"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafdcff621008b5e305165424c6ac4ea25">CipItemId</a> { <br />
&#160;&#160;<a class="el" href="#ggafdcff621008b5e305165424c6ac4ea25a7d3d1f2d6b2f4ed65dc34b792bfdaa4f">kCipItemIdNullAddress</a> = 0x0000
, <a class="el" href="#ggafdcff621008b5e305165424c6ac4ea25aa082d77e86c75c44df304252971b4007">kCipItemIdListIdentityResponse</a> = 0x000C
, <a class="el" href="#ggafdcff621008b5e305165424c6ac4ea25a0adf8007a319941f3aaa7d9624025c0f">kCipItemIdConnectionAddress</a> = 0x00A1
, <a class="el" href="#ggafdcff621008b5e305165424c6ac4ea25a8761662aa0838fb723f8696e9ea4e217">kCipItemIdConnectedDataItem</a> = 0x00B1
, <br />
&#160;&#160;<a class="el" href="#ggafdcff621008b5e305165424c6ac4ea25a9b966ac289a5c11fc80a2ab274c99a19">kCipItemIdUnconnectedDataItem</a> = 0x00B2
, <a class="el" href="#ggafdcff621008b5e305165424c6ac4ea25a43d8fa4dfdd73a9a23c8a75330d7b162">kCipItemIdListServiceResponse</a> = 0x0100
, <a class="el" href="#ggafdcff621008b5e305165424c6ac4ea25a93851549b6af1ed796409633e8071623">kCipItemIdSocketAddressInfoOriginatorToTarget</a> = 0x8000
, <a class="el" href="#ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d">kCipItemIdSocketAddressInfoTargetToOriginator</a> = 0x8001
, <br />
&#160;&#160;<a class="el" href="#ggafdcff621008b5e305165424c6ac4ea25a21abefabf9f64dba055671507015f2b1">kCipItemIdSequencedAddressItem</a> = 0x8002
<br />
 }</td></tr>
<tr class="memdesc:gafdcff621008b5e305165424c6ac4ea25"><td class="mdescLeft">&#160;</td><td class="mdescRight">CPF is Common Packet Format CPF packet := &lt;number of items&gt; {&lt;items&gt;} item := &lt;TypeID&gt; &lt;Length&gt; &lt;data&gt; &lt;number of items&gt; := two bytes &lt;TypeID&gt; := two bytes &lt;Length&gt; := two bytes &lt;data&gt; := &lt;the number of bytes specified by Length&gt;.  <a href="#gafdcff621008b5e305165424c6ac4ea25">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9c408ca52db513a953b72e8dfcad27e8" id="r_ga9c408ca52db513a953b72e8dfcad27e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9c408ca52db513a953b72e8dfcad27e8">NotifyCommonPacketFormat</a> (const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const received_data, const struct sockaddr *const originator_address, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memdesc:ga9c408ca52db513a953b72e8dfcad27e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the CPF data from a received unconnected explicit message and hand the data on to the message router.  <br /></td></tr>
<tr class="memitem:ga72c9878cc686b15d10481b716e6f628d" id="r_ga72c9878cc686b15d10481b716e6f628d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga72c9878cc686b15d10481b716e6f628d">NotifyConnectedCommonPacketFormat</a> (const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const received_data, const struct sockaddr *const originator_address, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memdesc:ga72c9878cc686b15d10481b716e6f628d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse the CPF data from a received connected explicit message, check the connection status, update any timers, and hand the data on to the message router.  <br /></td></tr>
<tr class="memitem:gab4525f090b67d97b3a3f7cce3ca441ec" id="r_gab4525f090b67d97b3a3f7cce3ca441ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab4525f090b67d97b3a3f7cce3ca441ec">CreateCommonPacketFormatStructure</a> (const <a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *data, size_t data_length, <a class="el" href="structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *common_packet_format_data)</td></tr>
<tr class="memdesc:gab4525f090b67d97b3a3f7cce3ca441ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create CPF structure out of the received data.  <br /></td></tr>
<tr class="memitem:gab3034e0cfa9da61acdae59dc2df5cca7" id="r_gab3034e0cfa9da61acdae59dc2df5cca7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab3034e0cfa9da61acdae59dc2df5cca7">AssembleIOMessage</a> (const <a class="el" href="structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *const common_packet_format_data_item, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const message)</td></tr>
<tr class="memdesc:gab3034e0cfa9da61acdae59dc2df5cca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy data from CPFDataItem into linear memory in message for transmission over in encapsulation.  <br /></td></tr>
<tr class="memitem:ga06d1abc0c54f5e8dc0fb26e6a074fb33" id="r_ga06d1abc0c54f5e8dc0fb26e6a074fb33"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga06d1abc0c54f5e8dc0fb26e6a074fb33">AssembleLinearMessage</a> (const <a class="el" href="structCipMessageRouterResponse.html">CipMessageRouterResponse</a> *const message_router_response, const <a class="el" href="structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *const common_packet_format_data_item, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memdesc:ga06d1abc0c54f5e8dc0fb26e6a074fb33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy data from message_router_response struct and common_packet_format_data_item into <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> struct outgoing_message via encapsulation.  <br /></td></tr>
<tr class="memitem:ga7a0dc2be6c485d9e6940d5b20a981022" id="r_ga7a0dc2be6c485d9e6940d5b20a981022"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7a0dc2be6c485d9e6940d5b20a981022">EncapsulationInit</a> (void)</td></tr>
<tr class="memdesc:ga7a0dc2be6c485d9e6940d5b20a981022"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the encapsulation layer.  <br /></td></tr>
<tr class="memitem:ga1261bd2441f744c38d7a3f8d8c16c391" id="r_ga1261bd2441f744c38d7a3f8d8c16c391"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1261bd2441f744c38d7a3f8d8c16c391">EncapsulationShutDown</a> (void)</td></tr>
<tr class="memdesc:ga1261bd2441f744c38d7a3f8d8c16c391"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown the encapsulation layer.  <br /></td></tr>
<tr class="memitem:ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac" id="r_ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac">ManageEncapsulationMessages</a> (const <a class="el" href="typedefs_8h.html#a2972c9424f18b12265ca35d0548da82a">MilliSeconds</a> elapsed_time)</td></tr>
<tr class="memdesc:ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle delayed encapsulation message responses.  <br /></td></tr>
<tr class="memitem:ga276ff66357e0e1af1006dd8c9751f8d9" id="r_ga276ff66357e0e1af1006dd8c9751f8d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#afa63ebce9378d77bc7fcdccb5edae53b">CipSint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga276ff66357e0e1af1006dd8c9751f8d9">GetSintFromMessage</a> (const <a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const buffer)</td></tr>
<tr class="memdesc:ga276ff66357e0e1af1006dd8c9751f8d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads EIP_UINT8 from *buffer and converts little endian to host.  <br /></td></tr>
<tr class="memitem:ga6c4f5e678973ee4aa9cbe3e0413af4a4" id="r_ga6c4f5e678973ee4aa9cbe3e0413af4a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a1be1b4a809b73131a8674fcf96d17968">CipInt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6c4f5e678973ee4aa9cbe3e0413af4a4">GetIntFromMessage</a> (const <a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const buffer)</td></tr>
<tr class="memdesc:ga6c4f5e678973ee4aa9cbe3e0413af4a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an 16Bit integer from the network buffer, and moves pointer beyond the 16 bit value.  <br /></td></tr>
<tr class="memitem:gacdba806df180f4ea19dab19b9dece3c0" id="r_gacdba806df180f4ea19dab19b9dece3c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a1bd794c042ab4d4c94d030ddbb1408dd">CipDint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacdba806df180f4ea19dab19b9dece3c0">GetDintFromMessage</a> (const <a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const buffer)</td></tr>
<tr class="memdesc:gacdba806df180f4ea19dab19b9dece3c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an 32Bit integer from the network buffer.  <br /></td></tr>
<tr class="memitem:ga3b8e962cb9ecc14c133e4ecc8e989fdf" id="r_ga3b8e962cb9ecc14c133e4ecc8e989fdf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3b8e962cb9ecc14c133e4ecc8e989fdf">AddSintToMessage</a> (const <a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> data, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memdesc:ga3b8e962cb9ecc14c133e4ecc8e989fdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">converts UINT8 data from host to little endian an writes it to buffer.  <br /></td></tr>
<tr class="memitem:ga908551d8a5070771e758c669f6a24869" id="r_ga908551d8a5070771e758c669f6a24869"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga908551d8a5070771e758c669f6a24869">AddIntToMessage</a> (const <a class="el" href="typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> data, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memdesc:ga908551d8a5070771e758c669f6a24869"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write an 16Bit integer to the network buffer.  <br /></td></tr>
<tr class="memitem:ga88045ce43a1683cac6ab5d1c0478b968" id="r_ga88045ce43a1683cac6ab5d1c0478b968"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga88045ce43a1683cac6ab5d1c0478b968">AddDintToMessage</a> (const <a class="el" href="typedefs_8h.html#abf2dd49262551294eb990ef8746a2767">EipUint32</a> data, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memdesc:ga88045ce43a1683cac6ab5d1c0478b968"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write an 32Bit integer to the network buffer.  <br /></td></tr>
<tr class="memitem:ga22e3ec8b674a5a245939eec98c2daa49" id="r_ga22e3ec8b674a5a245939eec98c2daa49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga22e3ec8b674a5a245939eec98c2daa49">AddLintToMessage</a> (const <a class="el" href="typedefs_8h.html#af58d6c4874d300bd646a1ad9c16844e1">EipUint64</a> pa_unData, <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const outgoing_message)</td></tr>
<tr class="memdesc:ga22e3ec8b674a5a245939eec98c2daa49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write an 64Bit integer to the network buffer.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gafaae5be8de81c633ea4df46fa8b957e0" id="r_gafaae5be8de81c633ea4df46fa8b957e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafaae5be8de81c633ea4df46fa8b957e0">g_common_packet_format_data_item</a></td></tr>
<tr class="memdesc:gafaae5be8de81c633ea4df46fa8b957e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data storage for the any CPF data Currently we are single threaded and need only one CPF at the time.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>The Ethernet encapsulation layer handles provides the abstraction between the Ethernet and the CIP layer. </p>
<a name="doc-enum-members" id="doc-enum-members"></a><h2 id="header-doc-enum-members" class="groupheader">Enumeration Type Documentation</h2>
<a id="gafdcff621008b5e305165424c6ac4ea25" name="gafdcff621008b5e305165424c6ac4ea25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafdcff621008b5e305165424c6ac4ea25">&#9670;&#160;</a></span>CipItemId</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#gafdcff621008b5e305165424c6ac4ea25">CipItemId</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CPF is Common Packet Format CPF packet := &lt;number of items&gt; {&lt;items&gt;} item := &lt;TypeID&gt; &lt;Length&gt; &lt;data&gt; &lt;number of items&gt; := two bytes &lt;TypeID&gt; := two bytes &lt;Length&gt; := two bytes &lt;data&gt; := &lt;the number of bytes specified by Length&gt;. </p>
<p>Definition of Item ID numbers used for address and data items in CPF structures </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggafdcff621008b5e305165424c6ac4ea25a7d3d1f2d6b2f4ed65dc34b792bfdaa4f" name="ggafdcff621008b5e305165424c6ac4ea25a7d3d1f2d6b2f4ed65dc34b792bfdaa4f"></a>kCipItemIdNullAddress&#160;</td><td class="fielddoc"><p>Type: Address; Indicates that encapsulation routing is not needed. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafdcff621008b5e305165424c6ac4ea25aa082d77e86c75c44df304252971b4007" name="ggafdcff621008b5e305165424c6ac4ea25aa082d77e86c75c44df304252971b4007"></a>kCipItemIdListIdentityResponse&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggafdcff621008b5e305165424c6ac4ea25a0adf8007a319941f3aaa7d9624025c0f" name="ggafdcff621008b5e305165424c6ac4ea25a0adf8007a319941f3aaa7d9624025c0f"></a>kCipItemIdConnectionAddress&#160;</td><td class="fielddoc"><p>Type: Address; Connection-based, used for connected messages, see Vol.2, p.42. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafdcff621008b5e305165424c6ac4ea25a8761662aa0838fb723f8696e9ea4e217" name="ggafdcff621008b5e305165424c6ac4ea25a8761662aa0838fb723f8696e9ea4e217"></a>kCipItemIdConnectedDataItem&#160;</td><td class="fielddoc"><p>Type: Data; Connected data item, see Vol.2, p.43. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafdcff621008b5e305165424c6ac4ea25a9b966ac289a5c11fc80a2ab274c99a19" name="ggafdcff621008b5e305165424c6ac4ea25a9b966ac289a5c11fc80a2ab274c99a19"></a>kCipItemIdUnconnectedDataItem&#160;</td><td class="fielddoc"><p>Type: Data; Unconnected message. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafdcff621008b5e305165424c6ac4ea25a43d8fa4dfdd73a9a23c8a75330d7b162" name="ggafdcff621008b5e305165424c6ac4ea25a43d8fa4dfdd73a9a23c8a75330d7b162"></a>kCipItemIdListServiceResponse&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggafdcff621008b5e305165424c6ac4ea25a93851549b6af1ed796409633e8071623" name="ggafdcff621008b5e305165424c6ac4ea25a93851549b6af1ed796409633e8071623"></a>kCipItemIdSocketAddressInfoOriginatorToTarget&#160;</td><td class="fielddoc"><p>Type: Data; Sockaddr info item originator to target. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d" name="ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d"></a>kCipItemIdSocketAddressInfoTargetToOriginator&#160;</td><td class="fielddoc"><p>Type: Data; Sockaddr info item target to originator. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggafdcff621008b5e305165424c6ac4ea25a21abefabf9f64dba055671507015f2b1" name="ggafdcff621008b5e305165424c6ac4ea25a21abefabf9f64dba055671507015f2b1"></a>kCipItemIdSequencedAddressItem&#160;</td><td class="fielddoc"><p>Sequenced Address item. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="cpf_8h_source.html#l00024">24</a> of file <a class="el" href="cpf_8h_source.html">cpf.h</a>.</p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ga88045ce43a1683cac6ab5d1c0478b968" name="ga88045ce43a1683cac6ab5d1c0478b968"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88045ce43a1683cac6ab5d1c0478b968">&#9670;&#160;</a></span>AddDintToMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AddDintToMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="typedefs_8h.html#abf2dd49262551294eb990ef8746a2767">EipUint32</a></td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write an 32Bit integer to the network buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to write </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer to the network buffer array. This pointer will be incremented by 4!</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length in bytes of the encoded message</dd></dl>
<p>Write an 32Bit integer to the network buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to be written </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer where data should be written. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="endianconv_8c_source.html#l00147">147</a> of file <a class="el" href="endianconv_8c_source.html">endianconv.c</a>.</p>

</div>
</div>
<a id="ga908551d8a5070771e758c669f6a24869" name="ga908551d8a5070771e758c669f6a24869"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga908551d8a5070771e758c669f6a24869">&#9670;&#160;</a></span>AddIntToMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AddIntToMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a></td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write an 16Bit integer to the network buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to write </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer to the network buffer array. This pointer will be incremented by 2!</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Length in bytes of the encoded message</dd></dl>
<p>Write an 16Bit integer to the network buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to be written </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer where data should be written. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="endianconv_8c_source.html#l00133">133</a> of file <a class="el" href="endianconv_8c_source.html">endianconv.c</a>.</p>

</div>
</div>
<a id="ga22e3ec8b674a5a245939eec98c2daa49" name="ga22e3ec8b674a5a245939eec98c2daa49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga22e3ec8b674a5a245939eec98c2daa49">&#9670;&#160;</a></span>AddLintToMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AddLintToMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="typedefs_8h.html#af58d6c4874d300bd646a1ad9c16844e1">EipUint64</a></td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write an 64Bit integer to the network buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to write </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer to the network buffer array. This pointer will be incremented by 8!</td></tr>
  </table>
  </dd>
</dl>
<p>Write an 64Bit integer to the network buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to be written </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer where data should be written. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="endianconv_8c_source.html#l00186">186</a> of file <a class="el" href="endianconv_8c_source.html">endianconv.c</a>.</p>

</div>
</div>
<a id="ga3b8e962cb9ecc14c133e4ecc8e989fdf" name="ga3b8e962cb9ecc14c133e4ecc8e989fdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3b8e962cb9ecc14c133e4ecc8e989fdf">&#9670;&#160;</a></span>AddSintToMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AddSintToMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a></td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>converts UINT8 data from host to little endian an writes it to buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to be written </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer where data should be written. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="endianconv_8c_source.html#l00120">120</a> of file <a class="el" href="endianconv_8c_source.html">endianconv.c</a>.</p>

</div>
</div>
<a id="gab3034e0cfa9da61acdae59dc2df5cca7" name="gab3034e0cfa9da61acdae59dc2df5cca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab3034e0cfa9da61acdae59dc2df5cca7">&#9670;&#160;</a></span>AssembleIOMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AssembleIOMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *const</td>          <td class="paramname"><span class="paramname"><em>common_packet_format_data_item</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy data from CPFDataItem into linear memory in message for transmission over in encapsulation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">common_packet_format_data_item</td><td>pointer to CPF structure which has to be aligned into linear memory. </td></tr>
    <tr><td class="paramname">message</td><td>Modified <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>length of modification in bytes kEipStatusError .. error </dd></dl>

<p class="definition">Definition at line <a class="el" href="cpf_8c_source.html#l00720">720</a> of file <a class="el" href="cpf_8c_source.html">cpf.c</a>.</p>

</div>
</div>
<a id="ga06d1abc0c54f5e8dc0fb26e6a074fb33" name="ga06d1abc0c54f5e8dc0fb26e6a074fb33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga06d1abc0c54f5e8dc0fb26e6a074fb33">&#9670;&#160;</a></span>AssembleLinearMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> AssembleLinearMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCipMessageRouterResponse.html">CipMessageRouterResponse</a> *const</td>          <td class="paramname"><span class="paramname"><em>message_router_response</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *const</td>          <td class="paramname"><span class="paramname"><em>common_packet_format_data_item</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy data from message_router_response struct and common_packet_format_data_item into <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> struct outgoing_message via encapsulation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message_router_response</td><td>pointer to message router response which has to be aligned into linear memory. </td></tr>
    <tr><td class="paramname">common_packet_format_data_item</td><td>pointer to CPF structure which has to be aligned into linear memory. </td></tr>
    <tr><td class="paramname">outgoing_message</td><td>Modified <a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>length of modification in bytes kEipStatusError .. error </dd></dl>

<p class="definition">Definition at line <a class="el" href="cpf_8c_source.html#l00616">616</a> of file <a class="el" href="cpf_8c_source.html">cpf.c</a>.</p>

</div>
</div>
<a id="gab4525f090b67d97b3a3f7cce3ca441ec" name="gab4525f090b67d97b3a3f7cce3ca441ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab4525f090b67d97b3a3f7cce3ca441ec">&#9670;&#160;</a></span>CreateCommonPacketFormatStructure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> CreateCommonPacketFormatStructure </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>data_length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *</td>          <td class="paramname"><span class="paramname"><em>common_packet_format_data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create CPF structure out of the received data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>pointer to data which need to be structured. </td></tr>
    <tr><td class="paramname">data_length</td><td>length of data in pa_Data. </td></tr>
    <tr><td class="paramname">common_packet_format_data</td><td>pointer to structure of CPF data item. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status EIP_OK .. success EIP_ERROR .. error</dd></dl>
<p>Create CPF structure out of the received data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Pointer to data which need to be structured. </td></tr>
    <tr><td class="paramname">data_length</td><td>Length of data in pa_Data. </td></tr>
    <tr><td class="paramname">common_packet_format_data</td><td>Pointer to structure of CPF data item.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>kEipStatusOk .. success kEipStatusError .. error </dd></dl>

<p class="definition">Definition at line <a class="el" href="cpf_8c_source.html#l00235">235</a> of file <a class="el" href="cpf_8c_source.html">cpf.c</a>.</p>

</div>
</div>
<a id="ga7a0dc2be6c485d9e6940d5b20a981022" name="ga7a0dc2be6c485d9e6940d5b20a981022"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7a0dc2be6c485d9e6940d5b20a981022">&#9670;&#160;</a></span>EncapsulationInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EncapsulationInit </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the encapsulation layer. </p>
<p>&lt; According to EIP spec at least 2 delayed message requests should be supported</p>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00100">100</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="ga1261bd2441f744c38d7a3f8d8c16c391" name="ga1261bd2441f744c38d7a3f8d8c16c391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1261bd2441f744c38d7a3f8d8c16c391">&#9670;&#160;</a></span>EncapsulationShutDown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EncapsulationShutDown </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shutdown the encapsulation layer. </p>
<p>This means that all open sessions including their sockets are closed. </p>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00675">675</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="gacdba806df180f4ea19dab19b9dece3c0" name="gacdba806df180f4ea19dab19b9dece3c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacdba806df180f4ea19dab19b9dece3c0">&#9670;&#160;</a></span>GetDintFromMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#a1bd794c042ab4d4c94d030ddbb1408dd">CipDint</a> GetDintFromMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an 32Bit integer from the network buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>pointer to the network buffer array. This pointer will be incremented by 4! </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Extracted 32 bit integer value</dd></dl>
<p>Get an 32Bit integer from the network buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>pointer where data should be reed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EIP_UN√çT32 value </dd></dl>

<p class="definition">Definition at line <a class="el" href="endianconv_8c_source.html#l00092">92</a> of file <a class="el" href="endianconv_8c_source.html">endianconv.c</a>.</p>

</div>
</div>
<a id="ga6c4f5e678973ee4aa9cbe3e0413af4a4" name="ga6c4f5e678973ee4aa9cbe3e0413af4a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c4f5e678973ee4aa9cbe3e0413af4a4">&#9670;&#160;</a></span>GetIntFromMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#a1be1b4a809b73131a8674fcf96d17968">CipInt</a> GetIntFromMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an 16Bit integer from the network buffer, and moves pointer beyond the 16 bit value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Pointer to the network buffer array. This pointer will be incremented by 2! </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Extracted 16 bit integer value</dd></dl>
<p>Get an 16Bit integer from the network buffer, and moves pointer beyond the 16 bit value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>pointer where data should be reed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EIP_UINT16 data value </dd></dl>

<p class="definition">Definition at line <a class="el" href="endianconv_8c_source.html#l00066">66</a> of file <a class="el" href="endianconv_8c_source.html">endianconv.c</a>.</p>

</div>
</div>
<a id="ga276ff66357e0e1af1006dd8c9751f8d9" name="ga276ff66357e0e1af1006dd8c9751f8d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga276ff66357e0e1af1006dd8c9751f8d9">&#9670;&#160;</a></span>GetSintFromMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#afa63ebce9378d77bc7fcdccb5edae53b">CipSint</a> GetSintFromMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads EIP_UINT8 from *buffer and converts little endian to host. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>pointer where data should be reed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EIP_UINT8 data value </dd></dl>

<p class="definition">Definition at line <a class="el" href="endianconv_8c_source.html#l00031">31</a> of file <a class="el" href="endianconv_8c_source.html">endianconv.c</a>.</p>

</div>
</div>
<a id="ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac" name="ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac">&#9670;&#160;</a></span>ManageEncapsulationMessages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ManageEncapsulationMessages </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="typedefs_8h.html#a2972c9424f18b12265ca35d0548da82a">MilliSeconds</a></td>          <td class="paramname"><span class="paramname"><em>elapsed_time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle delayed encapsulation message responses. </p>
<p>Certain encapsulation message requests require a delayed sending of the response message. This functions checks if messages need to be sent and performs the sending. </p>
<p>&lt; According to EIP spec at least 2 delayed message requests should be supported</p>

<p class="definition">Definition at line <a class="el" href="encap_8c_source.html#l00685">685</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

</div>
</div>
<a id="ga9c408ca52db513a953b72e8dfcad27e8" name="ga9c408ca52db513a953b72e8dfcad27e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c408ca52db513a953b72e8dfcad27e8">&#9670;&#160;</a></span>NotifyCommonPacketFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> NotifyCommonPacketFormat </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const</td>          <td class="paramname"><span class="paramname"><em>received_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct sockaddr *const</td>          <td class="paramname"><span class="paramname"><em>originator_address</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the CPF data from a received unconnected explicit message and hand the data on to the message router. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">received_data</td><td>pointer to the encapsulation structure with the received message </td></tr>
    <tr><td class="paramname">originator_address</td><td>Address struct of the originator </td></tr>
    <tr><td class="paramname">outgoing_message</td><td>The outgoing ENIP message struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>kEipStatusOkSend: a response needs to be sent, others: EIP stack status </dd></dl>

<p class="definition">Definition at line <a class="el" href="cpf_8c_source.html#l00038">38</a> of file <a class="el" href="cpf_8c_source.html">cpf.c</a>.</p>

</div>
</div>
<a id="ga72c9878cc686b15d10481b716e6f628d" name="ga72c9878cc686b15d10481b716e6f628d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga72c9878cc686b15d10481b716e6f628d">&#9670;&#160;</a></span>NotifyConnectedCommonPacketFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> NotifyConnectedCommonPacketFormat </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="encap_8h.html#a3d9f4172713731c9c6af155f79688822">EncapsulationData</a> *const</td>          <td class="paramname"><span class="paramname"><em>received_data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct sockaddr *const</td>          <td class="paramname"><span class="paramname"><em>originator_address</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ciptypes_8h.html#ab0c67d4ca4c7c65f0c381dc9683b95a7">ENIPMessage</a> *const</td>          <td class="paramname"><span class="paramname"><em>outgoing_message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse the CPF data from a received connected explicit message, check the connection status, update any timers, and hand the data on to the message router. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">received_data</td><td>pointer to the encapsulation structure with the received message </td></tr>
    <tr><td class="paramname">originator_address</td><td>Address struct of the originator </td></tr>
    <tr><td class="paramname">outgoing_message</td><td>The outgoing ENIP message struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>kEipStatusOkSend: a response needs to be sent, others: EIP stack status </dd></dl>

<p class="definition">Definition at line <a class="el" href="cpf_8c_source.html#l00114">114</a> of file <a class="el" href="cpf_8c_source.html">cpf.c</a>.</p>

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="gafaae5be8de81c633ea4df46fa8b957e0" name="gafaae5be8de81c633ea4df46fa8b957e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafaae5be8de81c633ea4df46fa8b957e0">&#9670;&#160;</a></span>g_common_packet_format_data_item</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> g_common_packet_format_data_item</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Data storage for the any CPF data Currently we are single threaded and need only one CPF at the time. </p>
<p>For future extensions towards multithreading maybe more CPF data items may be necessary</p>
<p>Data storage for the any CPF data Currently we are single threaded and need only one CPF at the time. </p>

<p class="definition">Definition at line <a class="el" href="cpf_8c_source.html#l00030">30</a> of file <a class="el" href="cpf_8c_source.html">cpf.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
